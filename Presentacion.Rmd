---
title: "Relaci贸n del sedentarismo con problemas auditivos y visuales"
author: "Antonia A帽azco, Daniel Marr贸n, Jorge Bermejo"
date: "`r Sys.Date()`"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```
## NDICE

- Introducci贸n
- Importaci贸n de datos
- Formateo de datos
- 


## INTRODUCCIN 

El sedentarismo representa un serio problema para la salud p煤blica, especialmente en Occidente, seg煤n Rodulfo, J. I. A. (2019)  [1]. Algunos de sus principales efectos, ampliamente estudiados, se evidencian en trastornos como la hipertensi贸n, la diabetes tipo II o la obesidad, las cuales ya alcanzan la categor铆a de epidemia en los Estados Unidos seg煤n Hu, F. B. (2003)  [2]. En el mismo art铆culo se habla tambi茅n de la relaci贸n directa entre estos trastornos y un estilo de vida sedentario, y, en particular, se comenta como un estilo de vida sedentario tiene consecuencias muy negativas independientemente de dieta y cantidad de horas dedicadas a la actividad f铆sica.

Ahora bien, 驴alguna vez os hab茅is planteado c贸mo afecta al sedentarismo a otros aspectos acerca de nuestra salud no tan obvios?

En el siguiente trabajo vamos a tratar de encontrar, o en su defecto descartar, la existencia de una correlaci贸n directa entre un estilo de vida sedentario y el desarrollo de problemas de visi贸n y/o auditivos vali茅ndonos para ello de sendos estudios expuestos m谩s adelante acerca de la distribuci贸n de dichos problemas y el estilo de vida a lo largo del territorio espa帽ol teniendo adem谩s en cuenta otros factores como edad o sexo. 


## IMPORTACIN DE DATOS
### Importamos las librer铆as y los datos a usar
```{r}
library(tidyjson)
library(rjson)
library(tidyverse)
library(readr)
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
library(ggborderline)
library(ggdark)


audifono_sexo_edad <- fromJSON(file = "DATOS/audif_SexAge_miles.json")
gafas_sexo_edad <- fromJSON(file = "DATOS/gafas_SexAge_miles.json")
imc_sexo_edad <- fromJSON(file = "DATOS/imc_SexAge_miles.json")
sedentarismo_sexo_edad <- fromJSON(file = "DATOS/seden_SexAge_miles.json")
```

## FORMATEO DE DATOS
```{r}
audif_sexo_edad <- audifono_sexo_edad %>% spread_all()
gafas_sexo_edad <- gafas_sexo_edad %>% spread_all()
imc_sexo_edad <- imc_sexo_edad %>% spread_all()
sedent_sexo_edad <- sedentarismo_sexo_edad %>% spread_all()
```
### Formateamos el conjunto de datos: imc_SexAge
```{r}
imc_sexo_edad %>% gather_object %>% json_types %>% count(name,type) 
```
```{r}
imc_SexAge <- imc_sexo_edad %>%
enter_object(Data) %>%
gather_array %>%
spread_all()
imc_SexAge$Sexo <- NA
imc_SexAge$Edad <- NA
imc_SexAge$IMC <- NA
for (i in 1:dim(imc_SexAge)[1]){
  r <- unlist(gregexpr(',', imc_SexAge$Nombre[i]))
  primera_coma <- r[1]
  segunda_coma <- r[2]
  imc_SexAge$Sexo[i] <- substring(imc_SexAge$Nombre[i], 0, primera_coma-1)
  edad <- substring(imc_SexAge$Nombre[i], primera_coma+1, segunda_coma-1)
  if (edad != " TOTAL"){
  edad <- substring(imc_SexAge$Nombre[i], primera_coma+4, primera_coma+12)
  }
  imc_SexAge$Edad[i] <- edad
  imc_SexAge$IMC[i] <- substring(imc_SexAge$Nombre[i], segunda_coma+1)
}
```

## Slide with R Output

```{r cars, echo = TRUE}
summary(cars)
```

## Slide with Plot

```{r pressure}
plot(pressure)
```

